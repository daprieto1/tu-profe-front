<div id="edit-route" ng-controller="EditRouteController as vm">

    <div class="row">
        <div class="large-12 columns">
            <nav aria-label="You are here:" role="navigation">
                <ul class="breadcrumbs">
                    <li><a href="#/dashboard">Dashboard</a></li>
                    <li><a href="#/route/view">Ruteo</a></li>
                    <li>
                        <span class="show-for-sr">Current: </span> Editar Ruteo
                    </li>
                </ul>
            </nav>

            <h1>
                Editar Ruteo {{vm.route.id}}
            </h1>
        </div>
    </div>

    <div class="row">
        <div class="large-12 columns">
            <h2>
                Detalles del Ruteo
            </h2>
        </div>
    </div>

    <div class="row">
        <div class="small-12 large-6 columns">

            <form name="updateRouteForm" novalidate>

                <div class="row">
                    <div class="large-12 columns">
                        <label for="city">Ciudad
								<select id="city" name="city" ng-model="vm.route.city"
										ng-options="city as city.name for city in vm.cities track by city.id"
										required>
								</select>
                                <p class="error" ng-if="updateRouteForm.city.$invalid && updateRouteForm.city.$touched">
                                    Por favor seleccione una ciudad
                                </p>
              				</label>
                    </div>
                </div>

                <div class="row">
                    <div class="large-12 columns">
                        <label for="originAddress">Dirección de origen
								<input id="originAddress" name="originAddress" type="text" ng-model="vm.route.originAddress"
									required>
                                <p class="error" ng-if="updateRouteForm.originAddress.$invalid && updateRouteForm.originAddress.$touched">
                                    Por favor digite una dirección de origen
                                </p>
							</label>
                    </div>
                </div>

                <div class="row">
                    <div class="small-12 large-6 columns">
                        <label for="clientId">Id del cliente
								<input id="clientId" name="clientId" type="number" ng-model="vm.route.idClient" min="0" required>
                                <p class="error" ng-if="updateRouteForm.clientId.$invalid && updateRouteForm.clientId.$touched">
                                    Por favor digite el id del cliente
                                </p>
							</label>
                    </div>

                    <div class="small-12 large-6 columns">
                        <label for="unitDeclaredValue">Valor declarado por unidad
								<input id="unitDeclaredValue" name="unitDeclaredValue" type="number" ng-model="vm.route.unitDeclaredValue" min="0" required>
                                <p class="error" ng-if="updateRouteForm.unitDeclaredValue.$invalid && updateRouteForm.unitDeclaredValue.$touched">
                                    Por favor indique el valor declarado por unidad
                                </p>
							</label>
                    </div>
                </div>

                <div class="row">

                    <div class="small-12 large-6 columns">
                        <label for="initDate">Fecha de Inicio
								<input id="initDate" name="initDate" type="date" ng-model="vm.route.initDate" required>
                                <p class="error" ng-if="updateRouteForm.initDate.$invalid && updateRouteForm.initDate.$touched">
                                    Por favor indique la fecha en la que iniciará el ruteo
                                </p>
							</label>
                    </div>

                    <div class="small-12 large-6 columns">
                        <label for="initHour">Hora de Inicio
								<select id="initHour" name="initHour" ng-model="vm.route.initHour"
										ng-options="initHour as initHour.name for initHour in vm.hourInitTypes track by initHour.id"
										required>
								</select>
                                <p class="error" ng-if="updateRouteForm.initHour.$invalid && updateRouteForm.initHour.$touched">
                                    Por favor indique la hora en la que debe iniciar
                                </p>
							</label>
                    </div>

                </div>

                <div class="row">

                    <div class="small-12 large-6 columns">
                        <label for="deliveryType">Tipo de Entrega
                                <select id="deliveryType" name="deliveryType" ng-model="vm.route.deliveryType"
                                        ng-options="deliveryType as deliveryType.name for deliveryType in vm.deliveryTypes track by deliveryType.id"
                                        required>
                                </select>
                                <p class="error" ng-if="updateRouteForm.deliveryType.$invalid && updateRouteForm.deliveryType.$touched">
                                    Por favor seleccione el tipo de entrega
                                </p>
                            </label>
                    </div>

                    <div class="small-12 large-6 columns">
                        <label for="routeType">Tipo de Ruta
                                <select id="routeType" name="routeType" ng-model="vm.route.routeType"
                                        ng-options="routeType as routeType.name for routeType in vm.routeTypes track by routeType.id"
                                        required>
                                </select>
                                <p class="error" ng-if="updateRouteForm.routeType.$invalid && updateRouteForm.routeType.$touched">
                                    Por favor seleccione el tipo de ruta
                                </p>
                            </label>
                    </div>

                </div>

                <div class="row">
                    <div class="large-12 columns">
                        <label for="vehicleType">Tipo de vehiculo
                            <select id="vehicleType" name="vehicleType" ng-model="vm.route.vehicle"
                                    ng-options="vehicleType as vehicleType.name for vehicleType in vm.vehicleTypes track by vehicleType.id"
                                    required>
                            </select>
                            <p class="error" ng-if="updateRouteForm.vehicleType.$invalid && updateRouteForm.vehicleType.$touched">
                                Por favor seleccione un tipo de vehículo
                            </p>
                        </label>
                    </div>
                </div>

                <div ng-if="vm.route.routeType !== undefined && vm.route.routeType.id !== 3">
                    <div class="row">
                        <div class="small-12 large-3 columns">
                            <label for="height">Alto (cm)
                                    <input id="height" name="height" ng-model="vm.route.vehicle.height" type="number" min="1" required>
                                    <p class="error" ng-if="updateRouteForm.height.$invalid && updateRouteForm.height.$touched">
                                        Por favor indique la altura del contenedor del vehículo
                                    </p>
                                </label>
                        </div>
                        <div class="small-12 large-3 columns">
                            <label for="width">Ancho (cm)
                                    <input id="width" name="width" ng-model="vm.route.vehicle.width" type="number" min="1" required>
                                    <p class="error" ng-if="updateRouteForm.width.$invalid && updateRouteForm.width.$touched">
                                        Por favor indique el ancho del contenedor del vehículo
                                    </p>
                                </label>
                        </div>
                        <div class="small-12 large-3 columns">
                            <label for="deep">Largo (cm)
                                    <input id="deep" name="deep" ng-model="vm.route.vehicle.deep" type="number" min="1" required>
                                    <p class="error" ng-if="updateRouteForm.deep.$invalid && updateRouteForm.deep.$touched">
                                        Por favor indique la profundidad del contenedor del vehículo
                                    </p>
                                </label>
                        </div>
                        <div class="small-12 large-3 columns">
                            <label for="weight">Peso (Kg)
                                    <input id="weight" name="weight" ng-model="vm.route.vehicle.weight" type="number" min="1" required>
                                    <p class="error" ng-if="updateRouteForm.weight.$invalid && updateRouteForm.weight.$touched">
                                        Por favor indique el peso que puede cargar el vehículo
                                    </p>
                                </label>
                        </div>
                    </div>
                    <div class="row">
                        <div class="small-12 large-6 columns">
                            <label for="minCapacity">Capacidad Mínima (unidades)
                                    <input id="minCapacity" name="minCapacity" ng-model="vm.route.vehicle.minCapacity" type="number" min="0" max="vm.route.vehicle.maxCapacity" required>
                                    <p class="error" ng-if="updateRouteForm.minCapacity.$invalid && updateRouteForm.minCapacity.$touched">
                                        Por favor indique cual es la capacidad mínima del mensajero
                                    </p>
                                </label>
                        </div>
                        <div class="small-12 large-6 columns">
                            <label for="maxCapacity">Capacidad Máxima (unidades)
                                    <input id="maxCapacity" name="maxCapacity" ng-model="vm.route.vehicle.maxCapacity" type="number" min="1" required>
                                    <p class="error" ng-if="updateRouteForm.maxCapacity.$invalid && updateRouteForm.maxCapacity.$touched">
                                        Por favor indique cual es la capacidad máxima del mensajero
                                    </p>
                                </label>
                        </div>
                    </div>
                </div>

                <div class="row" ng-if="vm.route.routeType !== undefined && vm.route.routeType.id === 3">
                    <div class="small-12 large-6 columns">
                        <label for="collection">Valor ($)
                				<input id="collection" name="collection" ng-model="vm.route.vehicle.collection" type="number" max="2000000" required>
                                <p class="error" ng-if="updateRouteForm.collection.$invalid && updateRouteForm.collection.$touched">
                                    Por favor indique el valor máximo de recaudo del mensajero que debe ser menor a $2'000.000'
                                </p>
              				</label>
                    </div>
                </div>

                <div class="row">
                    <div class="small-12 large-3 columns end">
                        <button class="button" ng-click="vm.update()" ng-disabled="updateRouteForm.$invalid">
                                Editar Ruteo
                            </button>
                    </div>
                </div>
            </form>

        </div>
        <div class="small-12 large-6 columns">
            <ng-include src="'views/route/createQuestions.html'"></ng-include>
        </div>
    </div>

</div>